<link rel="import" href="bower_components/polymer/polymer.html">
<polymer-element name="synth3d-inspector">
    <template>
        
        <link rel="stylesheet" href="style.css">
        <style>
            button
            {
                margin: 5px;
                color : white;
                font-size : 1em;
                text-transform:uppercase;
                border : none;
                background-color : #0080FF;
                box-shadow : 0px 1px 3px rgba(0,0,0,0.5);
                cursor : pointer;
            }
        </style>
        
        <template bind if="{{block == null}}">
            <div class="info">Sélectionnez un bloc pour pouvoir l'éditer</div>
        </template>
        
        <template if="{{block.blockType == 'wave'}}">
            <div id="waveBlock" class="blocEditor">
                <h2>Bloc Oscillateur</h2>
                <div class="info">Ce bloc permet de générer un signal sinusoïdale</div>
                <h3>Entrée</h3>
                <div><label>Fréquence d'entrée</label><input type="number" step="any"></div>
                <div><label>Amplitude d'entrée</label><input type="number" step="any"></div>
                <h3>Sortie</h3>
                <div layout vertical>
                                <button class="linkBlock" on-click={{linkFreq}}>Lier la fréquence de sortie</button>
                                <button class="linkBlock" on-click={{linkAmp}}>Lier l'ampltide de sortie</button>                   </div>
            </div>
        </template>
        <template if="{{block.blockType == 'adsr'}}">
            <div id="adsrBlock" class="blocEditor">
                <h2>Bloc ADSR</h2>
                <div class="info">Ce bloc permet d'appliquer une enveloppe ADSR à un signal</div>
                <h3>Entrée</h3>
                <div><label for="">Attack : Amplitude</label><input type="number" step="any"></div>
                <div><label for="">Attack : Timing</label><input type="number" step="any"></div>
                <div><label for="">Decay : Amplitude</label><input type="number" step="any"></div>
                <div><label for="">Decay : Timing</label><input type="number" step="any"></div>
                <div><label for="">Sustain : Amplitude</label><input type="number" step="any"></div>
                <div><label for="">Sustain : Timing</label><input type="number" step="any"></div>
                <div><label for="">Release : Timing</label><input type="number" step="any"></div>
                <h3>Sortie</h3>
                <div layout vertical>
                                <button class="linkBlock" on-click={{linkFreq}}>Lier la fréquence de sortie</button>
                                <button class="linkBlock" on-click={{linkAmp}}>Lier l'ampltide de sortie</button>                   </div>
            </div>
        </template>
        <template if="{{block.blockType == 'midi'}}">
            <div id="midiBlock" class="blocEditor">
                <h2>Bloc MIDI</h2>
                <div class="info">Ce bloc permet de générer un signal MIDI</div>
                <h3>Entrée</h3>
                <div><label for="">Note</label><input type="number" step="any"></div>
                <h3>Sortie</h3>
                <div layout vertical>
                                <button class="linkBlock" on-click={{linkFreq}}>Lier la fréquence de sortie</button>
                                <button class="linkBlock" on-click={{linkAmp}}>Lier l'ampltide de sortie</button>                   </div>
            </div>
        </template>
        <template if="{{block.blockType == 'delay'}}">
            <div id="delayBlock" class="blocEditor">
                <h2>Bloc Délai</h2>
                <div class="info">Ce bloc permet de délayer un signal</div>
                <h3>Entrée</h3>
                <div><label for="">Délai</label><input type="number" step="any"></div>
                <h3>Sortie</h3>
                <div layout vertical>
                                <button class="linkBlock" on-click={{linkFreq}}>Lier la fréquence de sortie</button>
                                <button class="linkBlock" on-click={{linkAmp}}>Lier l'ampltide de sortie</button>                   </div>
            </div>
        </template>
    </template>
    <script>
        Polymer({
            block : null,
            linkFreq : function()
            {
                var blockToLink = this.block;
                window.currentTool.setBlock(null);
                window.currentTool = Tools.linkTool;
                window.currentTool.setType('freq');
                window.currentTool.setBlock(blockToLink);
            },
            linkAmp : function()
            {
                var blockToLink = this.block;
                window.currentTool.setBlock(null);
                window.currentTool = Tools.linkTool;
                window.currentTool.setType('amp');
                window.currentTool.setBlock(blockToLink);
            }
        });
    </script>
</polymer-element>